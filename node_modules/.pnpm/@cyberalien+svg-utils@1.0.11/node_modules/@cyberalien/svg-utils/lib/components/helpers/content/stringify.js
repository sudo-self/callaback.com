import { generateCSSDefaultImportName } from "../css/name.js";

/**
* Convert icon content to a string literal
*/
function stringifyFactoryIconContent(icon, options, embedCSS) {
	const { cssMode, mergeCSS } = options;
	let content = "`" + (embedCSS ? `<style>${embedCSS}</style>${icon.content}` : icon.content).replace(/`/g, "\\`") + "`";
	switch (cssMode) {
		case "module":
			for (const className in icon.classes) content = content.replace(new RegExp("([\" ])(" + className + ")([\" ])", "g"), `$1\${${mergeCSS ? "css" : generateCSSDefaultImportName(className)}['${className}']}$3`);
			return content;
		default: return content;
	}
}

export { stringifyFactoryIconContent };